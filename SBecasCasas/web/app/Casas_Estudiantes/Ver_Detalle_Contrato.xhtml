<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>

        <h:outputStylesheet name="css/dataTables.min.css"/>
        <h:outputStylesheet name="css/chosen.css"/>
        <h:outputScript name="jquery/jquery.min.js"/>
        <h:outputScript name="js/dataTables.min.js"/>
        <h:outputScript name="js/bootbox.min.js"/>
        <h:outputScript name="js/Casas_Estudiantes/Agregar_Expediente_Casa.js" />

    </h:head>

    <body>

        <ui:composition template="./../../template.xhtml">

            <ui:define name="content">
                <h:form id="form">
                    <ul class="nav nav-tabs">
                        <li role="presentation" class="active"><a href="#!">Detalle Expediente </a></li>
                    </ul>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-inline">
                                        <h:outputLabel for="clave" value="Clave : "/>&nbsp;
                                        <h:outputText id="clave" value="#{casas_verDetalleContrato.expediente.id}" >
                                            <f:convertNumber/>
                                        </h:outputText>
                                    </div>
                                    <div class="form-inline">
                                        <h:outputLabel for="casa" value="Casa : "/>&nbsp;
                                        <h:outputText id="casa" value="#{casas_verDetalleContrato.expediente.tbl_casaestudianteDTO.nombre}" />
                                    </div>
                                    <div class="form-inline">
                                        <h:outputLabel for="arrendador" value="Arrendador : "/>&nbsp;
                                        <h:outputText id="arrendador" 
                                                      value="#{casas_verDetalleContrato.expediente.tbl_arrendadorDTO.nombre} 
                                                      #{casas_verDetalleContrato.expediente.tbl_arrendadorDTO.apellidoPat} 
                                                      #{casas_verDetalleContrato.expediente.tbl_arrendadorDTO.apellidoMat}" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-inline">
                                        <h:outputLabel for="arrendatario" value="Arrendatario : "/>&nbsp;
                                        <h:outputText id="arrendatario" 
                                                      value="#{casas_verDetalleContrato.expediente.tbl_arrendatarioDTO.nombre}" />
                                    </div>
                                    <div class="form-inline">
                                        <h:outputLabel for="fechaInicial" value="Fecha Inicial : "/>&nbsp;
                                        <h:outputText id="fechaInicial" value="#{casas_verDetalleContrato.expediente.fechaInicialArrendamiento}" >
                                            <f:convertDateTime locale="es-mx" dateStyle="long" />
                                        </h:outputText>
                                    </div>
                                    <div class="form-inline">
                                        <h:outputLabel for="fechaFinal" value="Fecha Final : "/>&nbsp;
                                        <h:outputText id="fechaFinal" value="#{casas_verDetalleContrato.expediente.fechaFinalArrendamiento}" >
                                            <f:convertDateTime locale="es-mx" dateStyle="long" />
                                        </h:outputText>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <ul class="nav nav-tabs">
                        <li role="presentation" class="active"><a href="#!">Moradores</a></li>
                    </ul>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-1">

                                </div>
                                <div class="col-md-2">
                                    <br/>
                                    <h:outputLabel for="matricula" value="Matricula : " />&nbsp;
                                    <h:inputText id="matricula" class="form-control input-sm" 
                                                 value="#{casas_verDetalleContrato.morador.matricula}" />
                                </div>
                                <div class="col-md-1">
                                    <br/>
                                    <h:outputLabel for="edad" value="Edad : " />&nbsp;
                                    <h:inputText id="edad" a:type="number" class="form-control input-sm"
                                                 value="#{casas_verDetalleContrato.morador.edad}" />
                                </div>
                                <div class="form-inline col-md-3">
                                    <br/>
                                    <br/>
                                    <h:outputLabel for="hablaLengua" value="Habla Lengua Indigena : " />&nbsp;
                                    <h:selectBooleanCheckbox id="hablaLengua" />
                                </div>
                                <div class="col-md-3">
                                    <br/>
                                    <h:outputLabel for="lengua" value="Lengua Indigena : " />&nbsp;
                                    <h:selectOneMenu id="lengua" class="chosenCombo form-control" 
                                                     value="#{casas_verDetalleContrato.morador.cat_lenguaIndigena}">
                                        <f:selectItem 
                                            itemValue="" itemLabel="--- Seleccione Lengua Indigena ---"/>
                                    </h:selectOneMenu>
                                </div>
                                <div class="col-md-1">
                                    <br/>
                                    <br/>
                                    <h:link class="btn btn-default" >
                                        <span class="glyphicon glyphicon-user">&nbsp;Agregar</span>
                                    </h:link>
                                </div>
                            </div>
                            <br/>
                            <br/>
                            <h:dataTable id="table" class="display" value="#{casas_verDetalleContrato.moradores}" var="elemento">
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputLabel value="Matricula"/>
                                    </f:facet>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputLabel value="Nombre"/>
                                    </f:facet>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputLabel value="Unidad Academica"/>
                                    </f:facet>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputLabel value="Grado"/>
                                    </f:facet>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputLabel value="Promedio"/>
                                    </f:facet>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputLabel value="Edad"/>
                                    </f:facet>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputLabel value="Municipio"/>
                                    </f:facet>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputLabel value="Estado"/>
                                    </f:facet>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputLabel value="Opciones"/>
                                    </f:facet>
                                </h:column>
                            </h:dataTable>

                        </div>
                    </div>
                </h:form>
                <ul class="nav nav-tabs">
                    <li role="presentation" class="active"><a href="#!">Agregar Fotos de la Casa</a></li>
                </ul>
                <h:form id="formImg" enctype="multipart/form-data" >
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <br/>
                                    <h:outputLabel for="foto" value="Foto : " />&nbsp;
                                    <h:selectOneMenu id="foto" class="chosenCombo" value="#{casas_verDetalleContrato.archivo.cat_archivosIdDTO}">
                                        <f:selectItem
                                            itemValue="" itemLabel="--- Seleccione Foto ---" />
                                        <f:selectItems 
                                            value="#{casas_verDetalleContrato.cat_archivos}" var="elemento"
                                            itemValue="#{elemento.id}" itemLabel="#{elemento.nombre}" />
                                    </h:selectOneMenu>
                                </div>
                                <div class="col-md-6">
                                    <br/>
                                    <div style="display: inline">
                                        <h:outputLabel for="archivo" value="Archivo : #{casas_verDetalleContrato.part.submittedFileName}" />&nbsp;
                                        <h:inputFile id="archivo" value="#{casas_verDetalleContrato.part}" 
                                                     a:accept="image/x-png, image/gif, image/jpeg">
                                        </h:inputFile>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <br/>
                                    <h:commandButton value="Subir" class="btn btn-info"
                                                     action="#{casas_verDetalleContrato.subirFoto()}">
                                        <f:ajax
                                            execute="foto archivo"
                                            render="@form" />
                                    </h:commandButton>
                                </div>
                            </div>
                            <br/>
                            <h:dataTable id="table" class="display" value="#{casas_verDetalleContrato.archivos}" var="elemento">
                                <h:column>
                                    <f:facet name="header">
                                        Clave
                                    </f:facet>
                                    <h:outputText value="#{elemento.id}" >
                                        <f:convertNumber/>
                                    </h:outputText>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Nombre
                                    </f:facet>
                                    <h:outputText value="#{elemento.nombre}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Tipo Foto
                                    </f:facet>
                                    <h:outputText value="#{elemento.cat_archivosIdDTO}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Descripcion
                                    </f:facet>
                                    <h:outputText value="#{elemento.descripcion}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Opciones
                                    </f:facet>
                                    <h:link class="btn-primary">
                                        <span class="glyphicon glyphicon-download"></span>
                                    </h:link>
                                    <h:link class="btn-danger">
                                        <span class="glyphicon glyphicon-remove"></span>
                                    </h:link>
                                </h:column>
                            </h:dataTable>
                        </div>
                    </div>
                </h:form>
            </ui:define>

        </ui:composition>
        <h:outputScript name="js/chosen.jquery.js"/>
        <script>
            $('.chosenCombo').chosen();
            $('.display').DataTable();
        </script>
    </body>
</html>
